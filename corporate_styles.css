/*
 * CORPORATE STYLES - Bloomberg Terminal / JP Morgan Inspired
 * Clean, institutional, professional design
 * NO chaos, NO neon, NO skewed elements
 */

/* === IMPORT MATERIAL ICONS === */
@import url('https://fonts.googleapis.com/icon?family=Material+Icons');
@import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200');

/* === ROOT VARIABLES === */
:root {
    --corp-bg-primary: #000000;
    --corp-bg-secondary: #0a0a0a;
    --corp-bg-card: #111111;
    --corp-bg-hover: #1a1a1a;
    --corp-accent-orange: #ff6600;
    --corp-accent-blue: #4a90d9;
    --corp-accent-green: #26a69a;
    --corp-accent-red: #ef5350;
    --corp-text-primary: #f0f0f0;
    --corp-text-secondary: #b0b0b0;
    --corp-text-muted: #666666;
    --corp-border: #2a2a2a;
    --corp-font-mono: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', monospace;
    --corp-font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
}

/* === GLOBAL RESET === */
.stApp {
    background-color: var(--corp-bg-primary) !important;
}

/* Apply font to text elements only, not icons */
.stApp p, .stApp h1, .stApp h2, .stApp h3, .stApp h4, .stApp h5, .stApp h6,
.stApp label, .stApp div:not([class*="material"]),
.stApp input, .stApp textarea, .stApp select {
    font-family: var(--corp-font-mono);
}

.stApp * {
    border-radius: 0 !important;
}

/* === MAIN CONTAINER === */
.main .block-container {
    padding: 1.5rem 2rem !important;
    max-width: 100% !important;
    background-color: var(--corp-bg-primary) !important;
}

[data-testid="stAppViewContainer"] {
    background-color: var(--corp-bg-primary) !important;
}

/* === TYPOGRAPHY === */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--corp-font-sans) !important;
    font-weight: 500 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.08em !important;
    color: var(--corp-text-primary) !important;
    transform: none !important;
    text-shadow: none !important;
}

h1 {
    font-size: 1.25rem !important;
    border-bottom: 1px solid var(--corp-border) !important;
    padding-bottom: 0.75rem !important;
    margin-bottom: 1rem !important;
}

h2, h3 {
    font-size: 0.85rem !important;
    color: var(--corp-accent-orange) !important;
    margin-top: 1.5rem !important;
}

p, span, div, label {
    font-family: var(--corp-font-mono) !important;
    color: var(--corp-text-secondary) !important;
    text-shadow: none !important;
    transform: none !important;
}

/* === SIDEBAR === */
[data-testid="stSidebar"] {
    background-color: var(--corp-bg-secondary) !important;
    border-right: 1px solid var(--corp-border) !important;
}

[data-testid="stSidebar"] > div:first-child {
    background-color: var(--corp-bg-secondary) !important;
}

[data-testid="stSidebar"] * {
    color: var(--corp-text-primary) !important;
    transform: none !important;
    text-shadow: none !important;
}

[data-testid="stSidebar"] label {
    font-size: 0.7rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.1em !important;
    color: var(--corp-text-muted) !important;
}

/* === METRICS - BLOOMBERG STYLE === */
[data-testid="stMetric"] {
    background-color: var(--corp-bg-card) !important;
    border: 1px solid var(--corp-border) !important;
    border-left: 3px solid var(--corp-accent-orange) !important;
    border-radius: 0 !important;
    padding: 0.75rem 1rem !important;
    box-shadow: none !important;
    transform: none !important;
}

[data-testid="stMetricValue"] {
    font-family: var(--corp-font-mono) !important;
    font-size: 1.3rem !important;
    font-weight: 600 !important;
    color: var(--corp-text-primary) !important;
    text-shadow: none !important;
}

[data-testid="stMetricLabel"] {
    font-size: 0.65rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.12em !important;
    color: var(--corp-text-muted) !important;
}

[data-testid="stMetricDelta"] {
    font-family: var(--corp-font-mono) !important;
    font-size: 0.75rem !important;
}

[data-testid="stMetricDelta"] svg {
    display: none !important;
}

/* === INPUTS - TERMINAL STYLE === */
.stTextInput input,
.stNumberInput input,
.stTextArea textarea {
    background-color: var(--corp-bg-primary) !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
    font-family: var(--corp-font-mono) !important;
    font-size: 0.85rem !important;
    color: var(--corp-accent-blue) !important;
    padding: 0.5rem 0.75rem !important;
}

.stTextInput input:focus,
.stNumberInput input:focus,
.stTextArea textarea:focus {
    border-color: var(--corp-accent-orange) !important;
    box-shadow: none !important;
    outline: none !important;
}

/* === SELECT BOXES === */
.stSelectbox > div > div {
    background-color: var(--corp-bg-primary) !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
}

.stSelectbox [data-baseweb="select"] > div {
    background-color: var(--corp-bg-primary) !important;
}

/* === BUTTONS - MINIMAL === */
.stButton > button {
    background-color: transparent !important;
    border: 1px solid var(--corp-accent-orange) !important;
    border-radius: 0 !important;
    color: var(--corp-accent-orange) !important;
    font-family: var(--corp-font-mono) !important;
    font-size: 0.7rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.1em !important;
    padding: 0.5rem 1.25rem !important;
    transition: all 0.15s ease !important;
    box-shadow: none !important;
}

.stButton > button:hover {
    background-color: var(--corp-accent-orange) !important;
    color: var(--corp-bg-primary) !important;
}

.stButton > button:active {
    transform: none !important;
}

/* === TABS - BLOOMBERG STYLE === */
.stTabs [data-baseweb="tab-list"] {
    background-color: var(--corp-bg-secondary) !important;
    border-bottom: 1px solid var(--corp-border) !important;
    gap: 0 !important;
    padding: 0 !important;
}

.stTabs [data-baseweb="tab"] {
    background-color: transparent !important;
    border: 1px solid var(--corp-border) !important;
    border-bottom: none !important;
    border-radius: 0 !important;
    color: var(--corp-text-muted) !important;
    font-family: var(--corp-font-mono) !important;
    font-size: 0.7rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.08em !important;
    padding: 0.6rem 1.25rem !important;
    margin-right: -1px !important;
    margin-bottom: -1px !important;
}

.stTabs [data-baseweb="tab"]:hover {
    color: var(--corp-text-primary) !important;
    background-color: var(--corp-bg-hover) !important;
}

.stTabs [aria-selected="true"] {
    background-color: var(--corp-bg-card) !important;
    border-top: 2px solid var(--corp-accent-orange) !important;
    color: var(--corp-text-primary) !important;
}

.stTabs [data-baseweb="tab-panel"] {
    background-color: var(--corp-bg-primary) !important;
    padding-top: 1rem !important;
}

/* === DATAFRAMES / TABLES === */
.stDataFrame {
    border: 1px solid var(--corp-border) !important;
    background-color: var(--corp-bg-card) !important;
}

.stDataFrame thead th {
    background-color: var(--corp-bg-secondary) !important;
    color: var(--corp-accent-orange) !important;
    font-family: var(--corp-font-mono) !important;
    font-size: 0.65rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.08em !important;
    font-weight: 500 !important;
    border-bottom: 1px solid var(--corp-border) !important;
}

.stDataFrame tbody td {
    font-family: var(--corp-font-mono) !important;
    font-size: 0.8rem !important;
    color: var(--corp-text-primary) !important;
    border-color: var(--corp-border) !important;
}

.stDataFrame tbody tr:hover {
    background-color: var(--corp-bg-hover) !important;
}

/* === EXPANDERS === */
.streamlit-expanderHeader {
    background-color: var(--corp-bg-secondary) !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
    font-family: var(--corp-font-mono) !important;
    font-size: 0.75rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
    color: var(--corp-text-primary) !important;
}

.streamlit-expanderContent {
    background-color: var(--corp-bg-card) !important;
    border: 1px solid var(--corp-border) !important;
    border-top: none !important;
}

/* === CHECKBOXES === */
.stCheckbox label {
    font-size: 0.75rem !important;
    color: var(--corp-text-secondary) !important;
}

.stCheckbox [data-testid="stCheckbox"] > label > div:first-child {
    background-color: var(--corp-bg-primary) !important;
    border-color: var(--corp-border) !important;
}

/* === SLIDERS === */
.stSlider > div > div > div {
    background-color: var(--corp-accent-orange) !important;
}

.stSlider [data-baseweb="slider"] div {
    background-color: var(--corp-border) !important;
}

/* === PROGRESS / SPINNERS === */
.stSpinner > div {
    border-color: var(--corp-accent-orange) transparent transparent transparent !important;
}

.stProgress > div > div {
    background-color: var(--corp-accent-orange) !important;
}

/* === ALERTS / INFO BOXES === */
.stAlert {
    background-color: var(--corp-bg-card) !important;
    border: 1px solid var(--corp-border) !important;
    border-left: 3px solid var(--corp-accent-blue) !important;
    border-radius: 0 !important;
    font-family: var(--corp-font-mono) !important;
}

[data-testid="stNotification"] {
    background-color: var(--corp-bg-card) !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
}

/* === PLOTLY CHARTS === */
.js-plotly-plot .plotly .modebar {
    background-color: transparent !important;
}

.js-plotly-plot .plotly .modebar-btn {
    color: var(--corp-text-muted) !important;
}

.js-plotly-plot .plotly .modebar-btn:hover {
    color: var(--corp-accent-orange) !important;
}

/* === SCROLLBARS === */
::-webkit-scrollbar {
    width: 6px !important;
    height: 6px !important;
}

::-webkit-scrollbar-track {
    background: var(--corp-bg-primary) !important;
}

::-webkit-scrollbar-thumb {
    background: var(--corp-border) !important;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--corp-accent-orange) !important;
}

/* === HIDE STREAMLIT BRANDING === */
#MainMenu {
    visibility: hidden !important;
}

footer {
    visibility: hidden !important;
}

header {
    visibility: hidden !important;
}

/* === POSITIVE/NEGATIVE VALUES === */
.positive, [data-testid="stMetricDelta"][data-direction="up"] {
    color: var(--corp-accent-green) !important;
}

.negative, [data-testid="stMetricDelta"][data-direction="down"] {
    color: var(--corp-accent-red) !important;
}

/* === MULTISELECT === */
.stMultiSelect [data-baseweb="tag"] {
    background-color: var(--corp-bg-hover) !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
}

/* === RADIO BUTTONS === */
.stRadio > div {
    gap: 0.5rem !important;
}

.stRadio label {
    font-size: 0.75rem !important;
}

/* === COLUMNS SPACING === */
[data-testid="column"] {
    padding: 0 0.5rem !important;
}

/* === DIVIDERS === */
hr {
    border-color: var(--corp-border) !important;
    border-width: 1px 0 0 0 !important;
}

/* === CODE BLOCKS === */
code, pre {
    background-color: var(--corp-bg-secondary) !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
    font-family: var(--corp-font-mono) !important;
    color: var(--corp-accent-blue) !important;
}

/* === DIALOG / MODAL === */
[data-testid="stModal"] > div {
    background-color: var(--corp-bg-card) !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
}

/* === POPOVER === */
[data-testid="stPopover"] button,
.stPopover button {
    background-color: transparent !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
    color: var(--corp-text-secondary) !important;
    font-family: var(--corp-font-mono) !important;
    font-size: 0.7rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
}

[data-testid="stPopover"] button:hover,
.stPopover button:hover {
    border-color: var(--corp-accent-orange) !important;
    color: var(--corp-accent-orange) !important;
}

[data-testid="stPopoverBody"],
.stPopoverBody {
    background-color: var(--corp-bg-card) !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
}

/* === FIX MARKDOWN DISPLAY === */
/* Ensure markdown renders correctly */
[data-testid="stSidebar"] .stMarkdown {
    font-family: var(--corp-font-mono) !important;
}

[data-testid="stSidebar"] .stMarkdown p,
[data-testid="stSidebar"] .stMarkdown span,
[data-testid="stSidebar"] .stMarkdown div {
    font-family: var(--corp-font-mono) !important;
    color: var(--corp-text-secondary) !important;
}

/* Style code blocks properly */
[data-testid="stSidebar"] code,
.stApp code {
    background: var(--corp-bg-secondary) !important;
    color: var(--corp-accent-blue) !important;
    font-family: var(--corp-font-mono) !important;
    padding: 2px 6px !important;
    border: 1px solid var(--corp-border) !important;
    border-radius: 0 !important;
}

/* === REMOVE ALL TRANSFORMS AND SHADOWS === */
* {
    text-shadow: none !important;
}

/* Specific overrides for any skewed/rotated elements */
div[style*="skew"],
div[style*="rotate"],
h1[style*="skew"],
h1[style*="rotate"],
h2[style*="skew"],
h2[style*="rotate"],
span[style*="skew"],
span[style*="rotate"] {
    transform: none !important;
}

/* === OVERRIDE NEON COLORS TO CORPORATE === */
/* These target inline styles with neon colors */

/* Pink/Magenta to Orange */
[style*="#FF00FF"], [style*="rgb(255, 0, 255)"],
[style*="#ff00ff"], [style*="rgba(255,0,255"] {
    border-color: var(--corp-accent-orange) !important;
}

/* Cyan to Blue */
[style*="#00FFFF"], [style*="rgb(0, 255, 255)"],
[style*="#00ffff"], [style*="rgba(0,255,255"] {
    border-color: var(--corp-accent-blue) !important;
}

/* Neon Green to Corporate Green */
[style*="#39FF14"], [style*="rgb(57, 255, 20)"],
[style*="#39ff14"], [style*="rgba(57,255,20"] {
    color: var(--corp-accent-green) !important;
}

/* Hot Pink/Red stays similar */
[style*="#FF3366"], [style*="rgb(255, 51, 102)"],
[style*="#ff3366"], [style*="rgba(255,51,102"] {
    color: var(--corp-accent-red) !important;
}

/* === OVERRIDE GRADIENT BACKGROUNDS === */
[style*="linear-gradient"][style*="FF00FF"],
[style*="linear-gradient"][style*="00FFFF"],
[style*="linear-gradient"][style*="39FF14"] {
    background: var(--corp-bg-secondary) !important;
    border-left: 3px solid var(--corp-accent-orange) !important;
}

/* === FORCE CORPORATE FONTS ON ALL ELEMENTS === */
.stApp h1, .stApp h2, .stApp h3,
.stApp p, .stApp label {
    font-family: var(--corp-font-mono) !important;
    text-shadow: none !important;
}

/* Preserve Material Icons font - CRITICAL FOR STREAMLIT ICONS */
.stApp span.material-symbols-rounded,
.stApp [data-testid] span[class*="material"],
.stApp button span.material-symbols-rounded,
span.material-icons,
span.material-symbols-rounded,
.material-symbols-rounded,
[data-testid="stSidebarCollapseButton"] span,
[data-testid="baseButton-headerNoPadding"] span,
button[kind="headerNoPadding"] span,
.stPopover button span,
[data-testid="stPopover"] button span,
[data-baseweb="popover"] button span {
    font-family: 'Material Symbols Rounded' !important;
    font-weight: normal !important;
    font-style: normal !important;
    font-size: 24px !important;
    line-height: 1 !important;
    letter-spacing: normal !important;
    text-transform: none !important;
    display: inline-block !important;
    white-space: nowrap !important;
    word-wrap: normal !important;
    direction: ltr !important;
    -webkit-font-feature-settings: 'liga' !important;
    font-feature-settings: 'liga' !important;
    -webkit-font-smoothing: antialiased !important;
}

/* Override Bebas Neue font */
[style*="Bebas Neue"],
[style*="bebas neue"],
.sidebar-research-title,
.main-app-title {
    font-family: var(--corp-font-sans) !important;
    text-shadow: none !important;
    transform: none !important;
}

/* === CLEAN METRIC CARDS === */
.stApp [data-testid="stMetric"] * {
    text-shadow: none !important;
    transform: none !important;
}

/* === SIDEBAR ELEMENTS === */
[data-testid="stSidebar"] div[style*="background"],
[data-testid="stSidebar"] div[style*="border"] {
    background: var(--corp-bg-card) !important;
    border-color: var(--corp-border) !important;
    border-radius: 0 !important;
}

[data-testid="stSidebar"] [style*="color:#FF00FF"],
[data-testid="stSidebar"] [style*="color: #FF00FF"],
[data-testid="stSidebar"] [style*="color:#ff00ff"] {
    color: var(--corp-accent-orange) !important;
}

[data-testid="stSidebar"] [style*="color:#00FFFF"],
[data-testid="stSidebar"] [style*="color: #00FFFF"],
[data-testid="stSidebar"] [style*="color:#00ffff"] {
    color: var(--corp-accent-blue) !important;
}

[data-testid="stSidebar"] [style*="color:#39FF14"],
[data-testid="stSidebar"] [style*="color: #39FF14"],
[data-testid="stSidebar"] [style*="color:#39ff14"] {
    color: var(--corp-accent-green) !important;
}

/* === TAB PANEL CONTENT === */
.stTabs [data-baseweb="tab-panel"] * {
    text-shadow: none !important;
}

/* === CHART AREA === */
.stPlotlyChart {
    background: var(--corp-bg-primary) !important;
}

/* === INFO CARDS AND BOXES === */
.stApp div[style*="background:rgba(26,26,46"],
.stApp div[style*="background: rgba(26,26,46"],
.stApp div[style*="background:#1A1A2E"],
.stApp div[style*="background: #1A1A2E"] {
    background: var(--corp-bg-card) !important;
}

/* === TABLE STYLING === */
.stApp table {
    border-collapse: collapse !important;
}

.stApp th {
    background: var(--corp-bg-secondary) !important;
    color: var(--corp-accent-orange) !important;
    border-color: var(--corp-border) !important;
    font-size: 0.7rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
}

.stApp td {
    border-color: var(--corp-border) !important;
    font-family: var(--corp-font-mono) !important;
}

/* === SIGNAL CARDS === */
div[style*="border-left:3px solid #FF00FF"],
div[style*="border-left: 3px solid #FF00FF"],
div[style*="border-left:4px solid #FF00FF"],
div[style*="border-left: 4px solid #FF00FF"] {
    border-left-color: var(--corp-accent-orange) !important;
}

div[style*="border-left:3px solid #00FFFF"],
div[style*="border-left: 3px solid #00FFFF"],
div[style*="border-left:4px solid #00FFFF"],
div[style*="border-left: 4px solid #00FFFF"] {
    border-left-color: var(--corp-accent-blue) !important;
}

/* === HIDE DECORATIVE ELEMENTS === */
.raygun-global-header,
.raygun-global-footer,
.ticker-wrap {
    display: none !important;
}

/* === CLEAN BORDERS === */
div[style*="border:2px solid #FF00FF"],
div[style*="border: 2px solid #FF00FF"],
div[style*="border:2px dashed #00FFFF"],
div[style*="border: 2px dashed #00FFFF"] {
    border: 1px solid var(--corp-border) !important;
    border-left: 3px solid var(--corp-accent-orange) !important;
}
